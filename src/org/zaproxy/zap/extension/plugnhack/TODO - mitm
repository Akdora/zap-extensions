MITM Config TODO
:	Call API to turn break on / off
|	Show scan / spider progress
|	Install w/o saving FX add-on to disk??
|	Update to new config format (?)
|	scan and spider currently fail
|	Try turning breaks off
|	Get and switch user sessions
|	Rationalize cmds

	Call API to break on/off on a per tab basis - how will this work??
		Marks demo: https://github.com/mozmark/fx-intercept_test/blob/master/templates/service.json#L26
		New API calls: 
->			break/action/breakOnTab tabid on/off
			break/action/continue ?
|	Sessions, new, switch, rename
	Different html for Firefox vs other browsers? 




MITM Config TODO - OLD!!
* Test - intial config fails, but otherwise ok?
| zap version
* zap record on/off
* zap usersession new?

Future
* zap reveal on/off - no API :( But can be done in the mitm ext...

* Implement XPI packaging
* Generate root CA on start?

Done
* Create extension
* Implement API
* Intercept /mitm return html
* Intercept /manifest or equiv
* Use static welcome.html file
* Replace dynamic bits
* Replace I18N strings
* Ditto manifest
* Ditto service


  {
    "name":"spider",
    "description":"spider a site",
    "returnType":"string",
    "params":[
    {
      "name":"site",
      "type": {
        "name":"selection",
        "dataAction":{
          "url":"{{ROOT}}/JSON/core/view/sites/",
          "expression":"$.sites[*]"
      }},
      "description":"the site to spider"
    }
    ],
    "execAction":{
      "url":"{{ROOT}}/JSON/spider/action/scan/?url=${site}",
      "expression":"$.Result",
      "callbackData":{"foo":"bar","wibble":{"type":"expression","expression":"$.response.Result","extract":true}}
    }
  }]

  
  
    {
      "name":"site",
      "type": {"name":"selection", "data":["http://localhost:8080","http://localhost:8090","http://safebrowsing-cache.google.com","http://safebrowsing.clients.google.com"]},
      "description":"the site to spider"
    }
  